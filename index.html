<!doctype html>
<html>

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- cache 사용하지 않음 -->
    <meta http-equiv="Cache-Control" content="no-cache">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!-- google font fammily -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@300&display=swap" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <!-- jquery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- model-viewer script -->
    <script type="module" src="https://unpkg.com/@google/model-viewer@1.8.0/dist/model-viewer.min.js"></script>
    <script type="module" src="js/cameraControlsModel.js"></script>

    <title>세포소기관</title>
</head>

<body>
    <!-- <nav class="navbar navbar-light bg-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <img src="img/cell.png" width="30" height="30" class="d-inline-block align-text-top">
                ORGANELLE
            </a>
        </div>
    </nav> -->

    <!--
    <div class="cover-up" style="float:left;">
        <br>
        <br>
        <br>
        <br>
        <div>
            hello world
        </div>
    </div> -->

    <model-viewer id="model-viewer" bounds="tight" enable-pan src="/3d/model.glb" ar
        ar-modes="webxr scene-viewer quick-look" camera-controls poster="poster.webp" shadow-intensity="1.12"
        camera-orbit="33.67deg 50.85deg auto" auto-rotate>
        <button class="Hotspot" slot="hotspot-5" id="hotspot-5"
            data-position="0.00518397896808052m 0.05322255076214505m 0.023437873253623277m"
            data-normal="-0.4062610762070404m 0.8522913678009235m 0.3294713376473411m"
            data-orbit="33.67deg 50.85deg auto" data-target="0.00518397896808052m 0.05322255076214505m 0.023437873253623277m" data-fov="12.012deg"
            data-visibility-attribute="visible">
            <div class="HotspotAnnotation" onclick="annotationClicked(this)">미토콘드리아</div>
        </button><button class="Hotspot" slot="hotspot-8"
            data-position="0.024299818342776714m 0.056756757186224575m 0.013145589669831814m"
            data-normal="0.7834404325975683m -0.026213351874337175m 0.6209138013886045m"
            data-visibility-attribute="visible">
            <div class="HotspotAnnotation" onclick="annotationClicked(this)">골지체</div>
        </button><button class="Hotspot" slot="hotspot-9"
            data-position="-0.002974068654915417m 0.06589220676607054m -0.01084900745941477m"
            data-normal="0.3973425655633346m 0.46257056831380716m 0.7925574773613513m"
            data-visibility-attribute="visible">
            <div class="HotspotAnnotation" onclick="annotationClicked(this)">핵</div>
        </button><button class="Hotspot" slot="hotspot-10"
            data-position="-0.01679346489056433m 0.051359409512501675m 0.00547257850503134m"
            data-normal="-0.5103738066912848m -0.14041850987380397m 0.8484109968218632m"
            data-visibility-attribute="visible">
            <div class="HotspotAnnotation" onclick="annotationClicked(this)">거친면 소포체</div>
        </button><button class="Hotspot" slot="hotspot-11"
            data-position="-0.04378031191322189m 0.058235383996828025m 0.010218714876001414m"
            data-normal="0.41816482274132905m 0.09621578887511928m 0.9032611488339636m"
            data-visibility-attribute="visible">
            <div class="HotspotAnnotation" onclick="annotationClicked(this)">매끈면 소포체</div>
        </button><button class="Hotspot" slot="hotspot-12"
            data-position="-0.00947534198204869m 0.04426427389347062m 0.028770326814756338m"
            data-normal="0.3435219743658875m 0.16863433369428768m 0.923880465551278m"
            data-visibility-attribute="visible">
            <div class="HotspotAnnotation" onclick="annotationClicked(this)">중심체&amp;중심립</div>
        </button><button class="Hotspot" slot="hotspot-14"
            data-position="0.01757347449507959m 0.05827357374515108m 0.02809321558228158m"
            data-normal="0.1024948062755551m 0.9936209624274843m 0.04703400590228915m"
            data-visibility-attribute="visible">
            <div class="HotspotAnnotation" onclick="annotationClicked(this)">이동소낭</div>
        </button><button class="Hotspot" slot="hotspot-15"
            data-position="0.018590967002773528m 0.055381086687641856m -0.013847320939019424m"
            data-normal="0.6700572947890088m 0.5314462994473031m 0.5182548142601311m"
            data-visibility-attribute="visible">
            <div class="HotspotAnnotation" onclick="annotationClicked(this)">리보솜</div>
        </button>
    </model-viewer>

    <script>
        const mv = document.querySelector("#model-viewer");
        let flag = 0;
        const annotationClicked = (a) => {
            let ds = a.parentNode.dataset;
            mv.cameraTarget = ds.target;
            mv.cameraOrbit = ds.orbit;
            if (ds.fov !== undefined) mv.fieldOfView = ds.fov;
            if (flag === 1) {
                mv.style.width = "100%";
                flag = 0;
                mv.cameraTarget = "auto auto auto";
                mv.cameraOrbit = "33.67deg 50.85deg auto";
            } else {
                flag = 1;
                mv.style.width = "50%";
            }
        };
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" q
        crossorigin="anonymous"></script>
</body>

</html>

<!-- 
정해야하는 값: data-orbit, data-target, data-fov
    data-orbit="-20.94862deg 64.56856deg 0.86545582m" data-target="0.03323465608204483m 1.7456965277218954m 0.9633126732252862m" data-fov="22.91deg"
-->