<!doctype html>
<html>

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- cache 사용하지 않음 -->
    <meta http-equiv="Cache-Control" content="no-cache">


    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!-- google font fammily -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@300&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jua&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic&display=swap" rel="stylesheet">
    <!-- fabicon -->
    <link rel="icon" href="img/cell.png" type="image/x-icon">
    <link href="css/style.css" rel="stylesheet">

    <!-- jquery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- model-viewer script -->
    <script type="module" src="https://unpkg.com/@google/model-viewer@1.8.0/dist/model-viewer.min.js"></script>
    <script type="module" src="js/cameraControlsModel.js"></script>
    <script src="https://kit.fontawesome.com/753c3beb5c.js" crossorigin="anonymous"></script>

    <title>세포소기관</title>
</head>

<body>
    <model-viewer id="model-viewer" bounds="tight" enable-pan src="3d/model2.glb" camera-controls ar
        ar-modes="webxr scene-viewer quick-look" shadow-intensity="0.93" shadow-softness="0.5" exposure="1.43"
        environment-image="neutral" poster="poster.webp" shadow-intensity="1" camera-orbit="35.19deg 51.2deg auto"
        field-of-view="90deg" auto-rotate>
        <div class="container-btn">
            <label class="rot-info">AUTO-ROTATION</label>
            <input class="tgl tgl-skewed" id="cb3" type="checkbox" onclick="rotationOn(this)" checked />
            <label class="tgl-btn" data-tg-off="OFF" data-tg-on="ON" for="cb3"></label>
            <label class="home-info">HOME-POSITION</label>
            <button class="home-btn" onclick="returnHome()"><i class="fa-solid fa-house"></i></button>

            <button class="help-btn" onclick="showManual()"><i class="fa-solid fa-circle-info"></i></button>
        </div>
        <button class="Hotspot custom-btn btn-5" slot="hotspot-1"
            data-position="189.82302905779858m 2789.911154386773m 1087.5891790401872m"
            data-normal="0.06020004289134885m 0.7089052354147348m 0.7027299068898799m"
            data-orbit="358.2deg 43.07deg 0.096545582m"
            data-target="189.82302905779858m 2789.911154386773m 1087.5891790401872m" data-fov="0.01deg"
            data-visibility-attribute="visible">
            <div class="HotspotAnnotation" onclick="annotationClicked(this)">미토콘드리아</div>
        </button><button class="Hotspot custom-btn btn-5" slot="hotspot-3"
            data-position="-2184.052261477944m 3499.5856419424417m 571.147698710288m"
            data-normal="0.9369200251744033m -0.317616220745493m 0.14594794533170374m"
            data-orbit="441.7deg 60.01deg 0.096545582m"
            data-target="-2184.052261477944m 3499.5856419424417m 571.147698710288m" data-fov="0.01deg"
            data-visibility-attribute="visible">
            <div class="HotspotAnnotation" onclick="annotationClicked(this)">매끈면소포체</div>
        </button><button class="Hotspot custom-btn btn-5" slot="hotspot-5"
            data-position="1384.6999530336432m 2976.047245262934m 587.7081487509245m"
            data-normal="-0.6353111584436935m 0.08657687390360598m -0.7673878920480904m"
            data-orbit="384.8deg 54.37deg 0.096545582m"
            data-target="1384.6999530336432m 2976.047245262934m 587.7081487509245m" data-fov="0.01deg"
            data-visibility-attribute="visible">
            <div class="HotspotAnnotation" onclick="annotationClicked(this)">골지체</div>
        </button><button class="Hotspot custom-btn btn-5" slot="hotspot-7"
            data-position="-540.0173133248876m 2676.490353155124m 1477.1344298834563m"
            data-normal="0.11587049363405208m -0.7425295690009948m 0.6597149898738077m"
            data-orbit="355deg 36.21deg 0.096545582m"
            data-target="-540.0173133248876m 2676.490353155124m 1477.1344298834563m" data-fov="0.01deg"
            data-visibility-attribute="visible">
            <div class="HotspotAnnotation" onclick="annotationClicked(this)">중심체</div>
        </button><button class="Hotspot custom-btn btn-5" slot="hotspot-9"
            data-position="-73.46750390051312m 2942.3074998069924m 501.8367404936953m"
            data-normal="0.20349146384946035m -0.7428547260958062m 0.6377758854468619m"
            data-orbit="367.1deg 36.62deg 0.096545582m"
            data-target="-73.46750390051312m 2942.3074998069924m 501.8367404936953m" data-fov="0.01deg"
            data-visibility-attribute="visible">
            <div class="HotspotAnnotation" onclick="annotationClicked(this)">거친면소포체</div>
        </button><button class="Hotspot custom-btn btn-5" slot="hotspot-10"
            data-position="-310.82608663327136m 3424.3991649180048m -587.7620966837194m"
            data-normal="0.4641933147898059m -0.8341903195890408m 0.2977433075795096m"
            data-orbit="338deg 64.45deg 0.096545582m"
            data-target="-310.82608663327136m 3424.3991649180048m -587.7620966837194m" data-fov="0.01deg"
            data-visibility-attribute="visible">
            <div class="HotspotAnnotation" onclick="annotationClicked(this)">세포핵</div>
        </button>
        <button class="Hotspot custom-btn btn-5" slot="hotspot-11"
            data-position="1161.220724779113m 2957.683147511572m -1619.3635864726914m"
            data-normal="0.8509694331780135m -0.4960230804876165m 0.1726618875729841m"
            data-orbit="440.1deg 42.67deg 0.096545582m"
            data-target="1161.220724779113m 2957.683147511572m -1619.3635864726914m" data-fov="0.01deg"
            data-visibility-attribute="visible">
            <div class="HotspotAnnotation" onclick="annotationClicked(this)">리보솜</div>
        </button>
    </model-viewer>

    <div id="my_modal">
        <div id="modal-text-content"></div>
        <a class="modal_close_btn">❌</a>
    </div>

    <script>
        let explanation_text = {
            세포핵: `<div>
                        <h1>세포핵</h1>
                        <hr>
                        <div style="text-align : center;">
                            <img src="https://t1.daumcdn.net/cfile/tistory/990C43465D9C70B023" width="600" alt="It's nucleus">
                        </div>
                        <br>세포핵은 모든 진핵생물에서 발견할 수 있는 세포 내의 기관 염색체를 구성하는 다양한 단백질 복합체로 된 긴 선형의 DNA로 된 유전자중 대부분의 정보를 담고 있다.  유전자가 변형되지 않게 유지하고 유전자 발현을 조절함으로써 세포의 활성을 조절하는 역할을 하며 세포 분열과 유전에 관여한다. 공 모양이거나 타원 모양인 경우가 많다. 크기는 지름이 수μm(마이크로미터)에서 20~30μm 정도가 보통이다. 핵은 안팎 2층으로 이루어진 핵막으로 둘러싸여 있고, 여기에 핵공이라는 다수의 구멍이 있는 것으로 알려져 있다.
                    </div>`,
            리보솜: `<div>
                        <h1>리보솜</h1>
                        <hr>
                        <div style="text-align : center;">
                            <img src="data:image/jpeg;base64,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" width="600" alt="It's ribosome">
                        </div>
                        <br>리보솜은 아미노산을 연결하여 단백질 합성을 담당하는 세포소기관으로 리보솜 RNA와 단백질로 이루어져 있다. 리보솜은 대단위체와 소단위체로 분리되어 있으며, 두 단위체가 결합하여 단백질 합성을 수행한다. 리보솜은 크게 단백질을 합성하는 자유 리보솜과, 소포체 표면에 붙어서 막단백질이나 분비단백질을 등을 합성하는 ER-리보솜, 두가지로 나뉜다. 이 둘은 상호전환이 가능하며, ER-리보솜이 자유 리보솜이 될 수도, 자유 리보솜이 거친면 소포체로 들어가 ER-리보솜이 되는 경우도 있다
                    </div>`,
            매끈면소포체: `<div>
                        <h1>매끈면 소포체</h1>
                        <hr>
                        <div style="text-align : center;">
                            <img src="http://t1.daumcdn.net/thumb/R659x0/?fname=http%3A%2F%2Ft1.daumcdn.net%2Fencyclop%2F5459C54A0111860001%3Ft%3D1447985630000" width="600" alt="It's nucleus">
                        </div>
                        <br>매끈면 소포체는 표면에 리보솜이 없고 핵막에 연결된게 아니다. 여기서는 주로 지질이나 지방산, 호르몬 등의 스테로이드 합성에 관여하며, 세포 독성의 처리나 칼슘 저장, 탄수화물 대사에도 관여한다. 그렇기 때문에 간이나 근육 세포, 스테로이드를 만드는 세포에서는 활면소포체가 잘 발달되어 있다.
                    </div>`,
            거친면소포체: `<div>
                        <h1>거친면 소포체</h1>
                        <hr>
                        <div style="text-align : center;">
                            <img src="http://t1.daumcdn.net/thumb/R659x0/?fname=http%3A%2F%2Ft1.daumcdn.net%2Fencyclop%2F5459C54A0111860001%3Ft%3D1447985630000" width="600" alt ="It's Rough ER" >
                        </div>
                        <br>거친면 소포체는 표면에 리보솜이 많이 있으며, 이 때문에 표면이 꺼끌꺼끌해 보인다. 핵막과 연결되어 있다. 대부분의 mRNA 번역은 여기서 이루어진다. 합성된 단백질은 여기서 골지체로 이동하며, 골지체에서 당이나 그 외 다른 꼬리표를 붙여서 이동한다.
                    </div>`,
            미토콘드리아: `<div>
                        <h1>미토콘드리아</h1>
                        <hr>
                        <div style="text-align : center;">
                            <img src="https://www.ibs.re.kr/dext5data/2021/03/20210309_160058824_02719.jpg" width="600" alt="It's Mitochondria" alt="It's nucleus">
                        </div>
                        <br>미토콘드리아는 진핵생물의 세포 안에 있는 세포 호흡을 담당하는 세포 소기관이다.미토콘드리아는 대부분의 다른 소기관들과 달리 자체적인 DNA와 박테리아의 리보솜을 가지고 있고 세포에서 자체적으로 생산되는 게 아니라 자기가 알아서 분열함으로써 수가 늘어난다. 
                    </div>`,
            중심체: `<div>
                        <h1>중심체</h1>
                        <hr>
                        <div style="text-align : center;">
                            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSYojCJRH0vfqHLN2YQxvfIKHZZYBolM3Iy9Q&usqp=CAU" width="600" alt="It's centrosome">
                        </div>
                        <br>중심체는 세포질 내에 공모양, 혹은 작은 막대모양의 작은 구조물 이다. 주로 세포중심의 핵 근처에 위치하며, 중심립이라 불리는 두개의 소립과 이를 에워싼 중심질로 되어있다. 유사분열 초기, 중심체는 둘로 분열하여 핵을 사이에 두고 서로 반대 위치가 될때까지 이동한다. 
                    </div>`,
            골지체: `<div>
                        <h1>골지체</h1>
                        <hr>
                        <div style="text-align : center;">
                            <img src="https://previews.123rf.com/images/guniita/guniita1511/guniita151100030/49258179-%EA%B3%A8%EC%A7%80%EC%B2%B4%EB%8A%94-%EC%A7%84%ED%95%B5-%EC%84%B8%ED%8F%AC%EC%9D%98-%EC%9D%BC%EB%B6%80%EC%9E%85%EB%8B%88%EB%8B%A4-%EC%9E%90%EC%84%B8%ED%95%9C-%EC%9D%BC%EB%9F%AC%EC%8A%A4%ED%8A%B8.jpg" width="600" alt="It's nucleus">
                        </div>
                        <br>골지체는 지질이나 단백질을 받아들이고 적절한 위치로 내보내는 역할을 한다. 층상구조를 이루고 있으며, 소포체에서 합성한 분비 단백질을 받아들인후 밖으로 분비한다. 
                    </div>`,
        }

        function modal(id) {
            var zIndex = 99999;
            var modal = document.getElementById(id);

            // 모달 div 뒤에 희끄무레한 레이어
            var bg = document.createElement('div');
            bg.setStyle({
                position: 'fixed',
                zIndex: zIndex,
                left: '0px',
                top: '0px',
                width: '100%',
                height: '100%',
                overflow: 'auto',
                // 레이어 색갈은 여기서 바꾸면 됨
                backgroundColor: 'rgba(0,0,0,0.4)'
            });
            document.body.append(bg);

            // 닫기 버튼 처리, 시꺼먼 레이어와 모달 div 지우기
            modal.querySelector('.modal_close_btn').addEventListener('click', function () {
                bg.remove();
                modal.style.display = 'none';
            });

            modal.setStyle({
                animation: 'fadeIn 1s',
                position: 'fixed',
                display: 'block',
                boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)',

                // 시꺼먼 레이어 보다 한칸 위에 보이기
                zIndex: zIndex + 1,

                // div center 정렬
                top: '50%',
                left: '50%',
                transform: 'translate(-50%, -50%)',
                msTransform: 'translate(-50%, -50%)',
                webkitTransform: 'translate(-50%, -50%)'
            });
        }

        // Element 에 style 한번에 오브젝트로 설정하는 함수 추가
        Element.prototype.setStyle = function (styles) {
            for (var k in styles) this.style[k] = styles[k];
            return this;
        };

        const mv = document.querySelector("#model-viewer");

        let flag = 0;

        const returnHome = () => {
            mv.cameraTarget = "auto auto auto";
            mv.cameraOrbit = "33.67deg 50.85deg auto";
            mv.fieldOfView = "90deg";
            flag = 0;
        }
        
        let eastCount = 0;
        const showManual = () => {
            eastCount += 1
            setTimeout(() => modal('my_modal'), 500);
            let str = `<div>
                <h2>도움말</h2>
                </div>`;
            changeContent(str);
            if (eastCount===77) {
                location.href("./est.html");
            }
        }

        const annotationClicked = (a) => {
            // camera
            let ds = a.parentNode.dataset;
            mv.cameraTarget = ds.target;
            mv.cameraOrbit = ds.orbit;
            if (ds.fov !== undefined) mv.fieldOfView = ds.fov;
            if (flag === 1) {
                flag = 0;
                mv.cameraTarget = "auto auto auto";
                mv.cameraOrbit = "33.67deg 50.85deg auto";
                mv.fieldOfView = "90deg";
            } else {
                let str = ``;
                flag = 1;
                setTimeout(() => modal('my_modal'), 500);
                // console.log(a.textContent); -> text content;
                // 여기에 모달 content 조정할 내용;
                clicked = a.textContent;
                if (clicked === "세포핵") {
                    str = explanation_text.세포핵;
                }
                else if (clicked === "리보솜") {
                    str = explanation_text.리보솜;
                }
                else if (clicked === "매끈면소포체") {
                    str = explanation_text.매끈면소포체;
                }
                else if (clicked === "거친면소포체") {
                    str = explanation_text.거친면소포체;
                }
                else if (clicked === "미토콘드리아") {
                    str = explanation_text.미토콘드리아;
                }
                else if (clicked === "중심체") {
                    str = explanation_text.중심체;
                }
                else if (clicked === "골지체") {
                    str = explanation_text.골지체;
                }
                changeContent(str);

            }
        }
        const rotationOn = (cb) => {
            if (cb.checked === true) {
                document.getElementById("model-viewer").setAttribute("auto-rotate", "");
            } else {
                document.getElementById("model-viewer").removeAttribute("auto-rotate");
            }
        }

        const changeContent = (str) => {
            document.getElementById("modal-text-content").innerHTML = str;
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
</body>

</html>